{"id":"e1","type":"highlightRange","title":"Extension Entry Point","filePath":"extensions/debrief/src/extension.ts","range":{"startLine":1,"startCol":0,"endLine":8,"endCol":0},"narration":"Let's start in the extension entry point. Here at the top we have our imports - VS Code, the file system module, path utilities, and the various controllers we'll be using throughout."}
{"id":"e2","type":"highlightRange","title":"Activation Function","filePath":"extensions/debrief/src/extension.ts","range":{"startLine":15,"startCol":0,"endLine":25,"endCol":0},"narration":"Moving down, this is our activate function. VS Code calls this when the extension first loads. We set up the output channel for logging and initialize the decoration manager here."}
{"id":"e3","type":"highlightRange","title":"Handler Context","filePath":"extensions/debrief/src/extension.ts","range":{"startLine":50,"startCol":0,"endLine":60,"endCol":0},"narration":"This is where we create the handler context. Think of it as a shared bag of services - the TTS player, decoration manager, inline card controller - everything our event handlers need to do their job."}
{"id":"e4","type":"highlightRange","title":"Decoration Manager","filePath":"extensions/debrief/src/util/decorations.ts","range":{"startLine":1,"startCol":0,"endLine":15,"endCol":0},"narration":"Now let's look at the decoration manager. This class handles all the visual highlighting you see when stepping through code. It maintains decoration types for the background glow effect."}
{"id":"e5","type":"highlightRange","title":"Apply Highlight Method","filePath":"extensions/debrief/src/util/decorations.ts","range":{"startLine":30,"startCol":0,"endLine":50,"endCol":0},"narration":"The applyHighlight method takes an editor and a line range, then applies our decoration styles. Notice how we clear old decorations first to avoid visual clutter when moving between steps."}
{"id":"e6","type":"highlightRange","title":"TTS Player","filePath":"extensions/debrief/src/audio/ttsPlayer.ts","range":{"startLine":1,"startCol":0,"endLine":20,"endCol":0},"narration":"Let's check out the TTS player. This is what's talking to you right now. It uses the OpenAI TTS API to generate speech, then plays it through your system audio."}
{"id":"e7","type":"highlightRange","title":"Speak Async Method","filePath":"extensions/debrief/src/audio/ttsPlayer.ts","range":{"startLine":65,"startCol":0,"endLine":80,"endCol":0},"narration":"Here's the key change we made - the speakAsync method. Instead of waiting for audio to finish before navigating, we fire off the TTS request and immediately continue with the visual updates. That's why it feels so much more natural now."}
{"id":"e8","type":"say","title":"Wrap Up","narration":"And that covers the main architecture. The TTS-first pattern means you hear the explanation right as the code appears, just like a human presenter would do. Much better than the old robotic pause-then-speak approach."}
